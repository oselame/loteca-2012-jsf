<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
<ui:composition template="/templates/template.xhtml">
	
	<ui:define name="context">
		<style>
			.linhaDuplo {
				background-color: #8AB573;
			}
		</style>
		<h:form>
			<p:growl id="growl" showDetail="true" sticky="true" />  
			<p:messages showDetail="true" showSummary="false"/>
			<p:panel>
				<p:dataTable id="jogousuarios" var="row" value="#{jogousuarioBean.jogousuarios}"
					rowKey="#{row.nuSeqjogousuario}" emptyMessage="#{msg.warning_nenhum_registro_encontrado}">
					
					<f:facet name="header">
						#{msg.jogo_usuario_cadastrar}
					</f:facet>
										
					<p:column headerText="#{msg.jogo_usuario_jogo_cdjogo}"  style="width:40px;" styleClass="#{row.tpJogo eq 1 ? 'linhaDuplo' : ''}">
						<h:outputText value="#{row.jogo.cdJogo}" />
					</p:column>				
					<p:column headerText="#{msg.jogo_usuario_jogo_dejogo}" styleClass="#{row.tpJogo eq 1 ? 'linhaDuplo' : ''}">
						<h:outputText value="#{row.jogo.deJogo}" />
					</p:column>				
					<p:column headerText="#{msg.jogo_usuario_coluna1}" style="width:80px;" styleClass="alignCenter #{row.tpJogo eq 1 ? 'linhaDuplo' : ''}">
						<p:selectBooleanCheckbox value="#{row.blColuna1}"/>
					</p:column>				
					<p:column headerText="#{msg.jogo_usuario_empate}" style="width:80px;" styleClass="alignCenter #{row.tpJogo eq 1 ? 'linhaDuplo' : ''}">
						<p:selectBooleanCheckbox value="#{row.blEmpate}"/>
					</p:column>				
					<p:column headerText="#{msg.jogo_usuario_coluna2}" style="width:80px;" styleClass="alignCenter #{row.tpJogo eq 1 ? 'linhaDuplo' : ''}">
						<p:selectBooleanCheckbox value="#{row.blColuna2}"/>
					</p:column>				
				</p:dataTable>
				<f:facet name="footer">
					<p:commandButton value="#{msg.button_save}" 
						action="#{jogousuarioBean.salvarCadJogousuario}" update="growl, jogousuarios"  ajax="true" 
						disabled="#{not jogousuarioBean.jogohabilitado}"/>
					<p:commandButton value="#{msg.botao_gerar_jogo_aleatorio}" 
						action="#{jogousuarioBean.gerarCadJogousuarioAleatorio}" update="growl, jogousuarios" ajax="true" 
						disabled="#{not jogousuarioBean.jogohabilitado}"/>
					<p:commandButton value="${msg.botao_enviar_por_email}" update="growl"
						action="#{jogousuarioBean.enviarJogoEmailPessoal}"
						disabled="#{not jogousuarioBean.jogohabilitado}"/>
				</f:facet>
			</p:panel>
			<br/>
			
			<p:panel>
				<f:facet name="header">
					Apostas 
				</f:facet>
				<h:panelGrid columns="1">
					<p:outputLabel value="Assunto"/>
					<p:inputText value="#{jogousuarioBean.aposta.deAssunto}" 
						required="true" requiredMessage="Assunto não informado"
						style="width:100%"/>
					
					<p:outputLabel value="Lista de e-mails, separados por virgula"/>
					<p:inputTextarea value="#{jogousuarioBean.aposta.deListaemails}" style="width:100%" rows="4"
						required="true" requiredMessage="Lista de e-mails não informada."></p:inputTextarea>
					
					<p:outputLabel value="Texto da aposta"/>
					<p:editor maxlength="500" value="#{jogousuarioBean.aposta.deAposta}"
						required="true" requiredMessage="Texto da aposta não informado."
						style="width:100%"></p:editor>
					
					<f:facet name="footer">
						<p:commandButton value="${msg.botao_enviar_aposta}" update="growl"
							action="#{jogousuarioBean.enviarAposta}"
							disabled="#{not jogousuarioBean.jogohabilitado}"/>	
					</f:facet>
				</h:panelGrid>
				
			</p:panel>
			
		</h:form>
	</ui:define>
</ui:composition>
</html>